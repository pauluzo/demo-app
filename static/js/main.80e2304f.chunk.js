(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[0],{28:function(e,t,a){e.exports=a(47)},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),i=(a(33),a(7)),o=a(3);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(9),u=(a(34),a(18)),m=a.n(u),v=a(25),d=a(11),f=a(12),b=a(15),p=a(14),h=a(16),E=(a(36),a(49)),g=new(function(){function e(){var t=this;Object(d.a)(this,e),this.favList=[],this.getSubject=function(){return t.movieSubject},this.getFavSubject=function(){return t.favSubject},this.movieSubject=new E.a,this.favSubject=new E.a}return Object(f.a)(e,[{key:"viewMovie",value:function(e){this.movieSubject.next(e)}},{key:"addToFavorite",value:function(e){this.favList.push(e),this.favSubject.next(this.favList)}},{key:"deleteFavorite",value:function(e){for(var t=0;t<this.favList.length;t++)e.id===this.favList[t].id&&this.favList.splice(t,1);this.favSubject.next(this.favList)}}]),e}()),y=a(4),k=a(5),_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(p.a)(t).call(this,e))).state={snapshot:{data:null,connectionState:-1,error:null}},a.subscription=null,a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subscription=this.props.subject.subscribe((function(t){e.setState({snapshot:{data:t,connectionState:0,error:null}})}),(function(t){e.setState({snapshot:{data:null,connectionState:1,error:t}})}),(function(){e.setState({snapshot:{data:null,connectionState:1,error:null}})}))}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"render",value:function(){return this.props.builder(this.state.snapshot)}}]),t}(r.a.Component),S=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],input:"",type:"movie"},a.handleInput=function(e){var t=e.target.value;a.setState({input:t})},a.handleSelect=function(e){a.setState({type:e.target.value})},a.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"f4c84bec1d4d2bffdfc01648692ff93f",fetch("https://api.themoviedb.org/3/search/movie?query=".concat(a.state.input,"&api_key=").concat("f4c84bec1d4d2bffdfc01648692ff93f","&language=en-US&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){e.results?a.setState({movies:e.results}):alert("There are no results for these search parameters."),console.log(a.state.movies)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e=JSON.stringify(this.state.movies);localStorage.setItem("movies",e)}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("movies");if(e){var t=JSON.parse(e);this.setState({movies:t})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"home_container"},r.a.createElement("div",{className:"search_form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:this.state.input,onChange:this.handleInput,className:"search_input"}),r.a.createElement("input",{type:"submit",value:"Search",className:"search_button"}))),r.a.createElement(j,{movies:this.state.movies}))}}]),t}(r.a.Component),j=function(e){var t=e.movies.length<1?null:e.movies.map((function(e){return r.a.createElement("div",{key:e.id,className:"card_container"},r.a.createElement("div",{className:"movie_container"},r.a.createElement("div",{className:"movie_poster"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.poster_path),alt:"no movie poster"})),r.a.createElement("div",{className:"movie_details"},r.a.createElement("div",{className:"movie_title"},r.a.createElement("span",null,"".concat(e.title.length>25?e.title.substring(0,22)+"...":e.title))),r.a.createElement("div",{className:"movie_year"},r.a.createElement("span",null)," ",e.release_date),r.a.createElement("div",{className:"buttons_container"},r.a.createElement("button",{onClick:function(){g.viewMovie(e)}},r.a.createElement(i.b,{style:{textDecoration:"none",color:"rgb(0, 123, 255)"},to:"/view"},r.a.createElement("b",null,"View Movie"))),r.a.createElement(_,{subject:g.favSubject,builder:function(t){if(t.data){for(var a=0;a<t.data.length;a++)if(t.data[a].id===e.id)return r.a.createElement("button",{style:{backgroundColor:"red",color:"white",cursor:"pointer",border:"0px"},onClick:function(){g.deleteFavorite(e)}},r.a.createElement(y.a,{icon:k.b,style:{color:"white"}}),r.a.createElement("b",null," Unlike"));return r.a.createElement("button",{style:{cursor:"pointer"},onClick:function(){g.addToFavorite(e)}},r.a.createElement(y.a,{icon:k.b,style:{color:"red"}}),r.a.createElement("b",null," Like"))}return r.a.createElement("button",{style:{cursor:"pointer"},onClick:function(){g.addToFavorite(e)}},r.a.createElement(y.a,{icon:k.b,style:{color:"red"}}),r.a.createElement("b",null," Like"))}})))))}));return r.a.createElement("div",{className:"component_container"},r.a.createElement("div",{className:"center_component"},t))},w=(a(44),function(e){return r.a.createElement("header",{className:"toolbar_header"},r.a.createElement("div",{className:"toolbar_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Movie Search")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar_link"},r.a.createElement("div",{className:"circle"},r.a.createElement(_,{subject:g.getFavSubject(),builder:function(e){return e.data?e.data.length:0}})),r.a.createElement(i.b,{to:"/favorites"},r.a.createElement(y.a,{icon:k.b,style:{margin:"10px",width:"90%",height:"auto",color:"red"}})))))}),N=(a(45),Object(s.f)((function(e){var t=g.getSubject();return r.a.createElement("div",{className:"details_component_container",style:{marginTop:"60px"}},r.a.createElement(_,{subject:t,builder:function(t){var a=t.data;return r.a.createElement("div",{className:"details_container"},a?r.a.createElement("div",{className:"view_container"},r.a.createElement("div",{className:"view_poster"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(a.backdrop_path),alt:"no movie poster"})),r.a.createElement("div",{className:"view_details"},r.a.createElement("div",null,r.a.createElement("span",{style:{color:"black"}},r.a.createElement("b",null,"Title: ")," "),"".concat(a.title)),r.a.createElement("div",null,r.a.createElement("b",null,"Date of Release: ")," ",a.release_date),r.a.createElement("div",null,r.a.createElement("b",null,"Vote Average: ")," ",a.vote_average),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Overview: "),a.overview)),r.a.createElement("div",{className:"buttons_container"},r.a.createElement("button",{style:{color:"#007bff",cursor:"pointer"},onClick:function(){var t=e.history;t&&t.push("/")}},r.a.createElement("b",null,"Go Home")),r.a.createElement(_,{subject:g.favSubject,builder:function(e){if(e.data){for(var t=0;t<e.data.length;t++)if(e.data[t].id===a.id)return r.a.createElement("button",{style:{backgroundColor:"red",color:"white",border:"0px"},onClick:function(){g.deleteFavorite(a)}},r.a.createElement(y.a,{icon:k.b,style:{color:"white"}}),r.a.createElement("b",null," Unlike"));return r.a.createElement("button",{onClick:function(){g.addToFavorite(a)}},r.a.createElement(y.a,{icon:k.b,style:{color:"red"}}),r.a.createElement("b",null," Like"))}return r.a.createElement("button",{onClick:function(){g.addToFavorite(a)}},r.a.createElement(y.a,{icon:k.b,style:{color:"red"}}),r.a.createElement("b",null," Like"))}})))):r.a.createElement("div",null,r.a.createElement("p",null,"No movie details to show.")))}}))}))),O=(a(46),function(){var e=g.getFavSubject();return r.a.createElement("div",{className:"favList_container"},r.a.createElement("div",{style:{margin:"20px 0px"}},r.a.createElement("h3",null,r.a.createElement("b",{style:{fontStyle:"italic",color:"blue"}},"Your Favorite movies!!"))),r.a.createElement("div",{className:"bloc_style"},r.a.createElement(_,{subject:e,builder:function(e){var t=e.data;if(!t||t.length<1)return r.a.createElement("div",null,r.a.createElement("p",null,"You have not selected any movie(s) as your favorite."));var a=t.map((function(e){return r.a.createElement("div",{key:e.id,className:"favorite_container"},r.a.createElement("div",{className:"favorite_image"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.poster_path),alt:"No movie poster - ".concat(e.title)})),r.a.createElement("div",null,r.a.createElement("p",null,"".concat(e.title.length>40?e.title.substring(0,37)+"...":e.title))),r.a.createElement("div",null,r.a.createElement("p",null,e.release_date)),r.a.createElement("div",null,r.a.createElement("p",null,e.overview.substring(0,60)+"...")),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/view",onClick:function(){g.viewMovie(e)}},r.a.createElement(y.a,{icon:k.a,className:"view_icon",style:{width:"25px"}})),r.a.createElement(y.a,{icon:k.c,className:"delete_icon",style:{width:"25px"},onClick:function(){g.deleteFavorite(e)}})))}));return r.a.createElement("div",null,a)}})))});var x=function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:S}),r.a.createElement(s.a,{path:"/view",component:N}),r.a.createElement(s.a,{path:"/favorites",component:O})))},C=Object(o.a)();l.a.render(r.a.createElement(i.a,{history:C},r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.80e2304f.chunk.js.map